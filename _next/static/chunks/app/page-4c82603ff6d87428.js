(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{75410:function(){},48628:function(){},31601:function(){},67792:function(){},34977:function(){},75042:function(){},54707:function(e,n,t){Promise.resolve().then(t.bind(t,7896))},7896:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r}});var l=t(57437),a=t(2265),i=t(96586),s=e=>{let{onFileSelect:n}=e,t=(0,a.useRef)(null),[s,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{r(await i.FBF("/api/model/gan"))})()},[]);let f=async e=>{if(!s){console.error("Model not loaded");return}let n=new Image;n.src=e,n.onload=()=>{let e=i.Xhn.fromPixels(n).resizeBilinear([256,256]).toFloat().expandDims(0);o(s.predict(e))}};return(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>{var e;null===(e=t.current)||void 0===e||e.click()},className:"bg-blue-500 text-white p-2 rounded",children:"Upload Image"}),(0,l.jsx)("input",{type:"file",accept:"image/*",ref:t,onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];n(t);let l=new FileReader;l.onload=()=>{d(l.result),f(l.result)},l.readAsDataURL(t)}},className:"hidden"}),c&&(0,l.jsx)("img",{src:c,alt:"Uploaded"}),u&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Prediction:"}),(0,l.jsx)("pre",{children:JSON.stringify(u.arraySync(),null,2)})]})]})};function r(){let[e,n]=(0,a.useState)(null),[t,i]=(0,a.useState)(null);return(0,l.jsxs)("div",{className:"bg-backimage max-w-full min-h-screen flex items-center justify-center overflow-hidden",children:[(0,l.jsx)("title",{children:"Image Upload and Predict"}),(0,l.jsxs)("main",{className:"bg-white text-black p-8 rounded shadow-md",children:[(0,l.jsx)("h1",{className:"text-2xl mb-4",children:"Upload an Image for Prediction"}),(0,l.jsx)(s,{onFileSelect:e=>{n(e);let t=new FileReader;t.onload=()=>{i(t.result)},t.readAsDataURL(e)}}),e&&(0,l.jsx)("div",{className:"mt-4",children:t&&(0,l.jsx)("img",{src:t,alt:"Selected",className:"mt-4 max-w-full h-auto"})})]})]})}}},function(e){e.O(0,[425,399,663,566,636,938,498,648,971,23,744],function(){return e(e.s=54707)}),_N_E=e.O()}]);